function t(t,n,e,o,u){const f=[];for(const i of t){const t=r(i,n,e,o,u);Array.isArray(t)?f.push(...t):f.push(t)}return f}function r(r,i,s,a,c){if("string"==typeof r)return r;if(0===r){const t=c;return a.formatters.getNumberFormat(t.locale).format(t.value)}const[m,l,...g]=r;if(void 0===l){const t=n(s,m);return String(t)}if("number"!=typeof l||0===l)return function(r,e,o,u,i,s){const a=n(u,r),c=f(t(e,o,u,i,s));return a(Array.isArray(c)?c:[c])}(m,[l,...g],i,s,a,c);switch(l){case 1:return function(t,r,e,u,f,i){return o(r[String(n(u,t))]??r.other,e,u,f,i)}(m,g[0],i,s,a,c);case 2:return e(m,g[0],i,s,a,"cardinal");case 3:return e(m,g[0],i,s,a,"ordinal");case 4:return function(t,r,e,o,u){const f=n(o,t),i=function(t,r){if(t)return"string"==typeof t?r.formats?.number?.[t]?r.formats.number[t]:void 0:t}(r,u);return u.formatters.getNumberFormat(e,i).format(f)}(m,g[0],i,s,a);case 5:case 6:return u(m,g[0],i,s,a);default:return""}}function n(t,r){return t[r]}function e(t,r,e,u,f,i){const s=n(u,t),a=`=${s}`;return o(a in r?r[a]:r[f.formatters.getPluralRules(e,{type:i}).select(s)]??r.other,e,u,f,{value:s,locale:e})}function o(n,e,o,u,f){return"string"==typeof n?n:0===n?r(n,e,o,u,f):t(n,e,o,u,f)}function u(t,r,e,o,u,f){const i=n(o,t),s=function(t,r,n){if(t){if("string"==typeof t){const r=n.formats?.dateTime?.[t];return r}return t}}(r,0,u),a={...s,timeZone:s?.timeZone??u.timeZone};return u.formatters.getDateTimeFormat(e,a).format(i)}function f(t){if(0===t.length)return"";const r=[];let n="";for(const e of t)"string"==typeof e?n+=e:(n&&(r.push(n),n=""),r.push(e));return n&&r.push(n),1===r.length?r[0]:r}function i(...[,r,n,e]){const{formats:o,globalFormats:u,locale:i,...s}=e,a=function(r,n,e={},o){return"string"==typeof r?r:f(t(r,n,e,o,void 0))}(r,i,n,{formats:{dateTime:{...u?.dateTime,...o?.dateTime},number:{...u?.number,...o?.number}},...s});return a}i.raw=!1;export{i as default};
